{% extends "base.html" %}

{% block title %}{{ process.new_employee_name }} - Kentaur Onboarding{% endblock %}

{% block content %}
<div class="mt-14">
    <div class="flex items-center justify-between mb-6">
        <div>
            <a href="{% url 'onboarding:list' %}" class="text-sm text-gray-500 hover:text-gray-700 mb-1 inline-block">&larr; Tilbage til onboardings</a>
            <h1 class="text-2xl font-bold text-gray-900">{{ process.new_employee_name }}</h1>
            <p class="text-gray-500">
                {{ process.new_employee_position }}{% if process.new_employee_position and process.new_employee_department %} &middot; {% endif %}{{ process.new_employee_department }}
                &middot; Start: {{ process.start_date|date:"d. M Y" }}
            </p>
        </div>
        <div class="flex gap-2">
            <a href="{% url 'onboarding:delete' process.pk %}"
               class="bg-red-50 text-red-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-100 transition">
                Slet
            </a>
        </div>
    </div>

    <!-- Progress bar -->
    <div class="bg-white shadow rounded-lg p-6 mb-6">
        <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-medium text-gray-700">Fremskridt</span>
            <span class="text-sm font-medium text-gray-700">{{ process.progress_percentage }}% ({{ process.completed_tasks }}/{{ process.total_tasks }})</span>
        </div>
        <div class="bg-gray-200 rounded-full h-3">
            <div class="bg-indigo-600 h-3 rounded-full progress-bar" style="width: {{ process.progress_percentage }}%"></div>
        </div>
    </div>

    {% if process.notes %}
    <div class="bg-white shadow rounded-lg p-4 mb-6">
        <span class="text-sm font-medium text-gray-500">Noter:</span>
        <p class="text-sm text-gray-700 mt-1">{{ process.notes }}</p>
    </div>
    {% endif %}

    <!-- Task list -->
    <div id="task-list">
        {% include "onboarding/partials/_task_list.html" %}
    </div>
</div>
{% endblock %}
